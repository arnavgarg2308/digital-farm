<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Farmer Dashboard</title>
  <link rel="stylesheet" href="style.css" />
  <script src="script.js" defer></script>
  <script src="support.js" defer></script>
</head>

<body>
  <header class="page-header">
    <h2 data-lang="farmerDash">👨‍🌾 Farmer Dashboard</h2>
    <div>
      <img id="headerAvatar" 
        src="https://cdn-icons-png.flaticon.com/512/149/149071.png"
        style="width:32px;height:32px;border-radius:50%;object-fit:cover;display:none;margin-right:8px;">

      <button class="small" onclick="openProfile()" data-lang="Profile">Profile</button>
      <button class="small" onclick="openSupport()" data-lang="sup">Support</button>
      <select id="langSelectorFarmer" onchange="changeLanguage(this.value)">
        <option value="en">English</option>
        <option value="hi">हिन्दी</option>
      </select>
      <button class="small danger" onclick="logout()" data-lang="log">Logout</button>
    </div>
  </header>

  <!-- Profile Container (hidden by default) -->
  <div id="profileContainer" style="display:none; padding:20px;"></div>

  <main>
    <section class="grid">

      <!-- Risk Assessment -->
      <div class="card" onclick="openFeature('risk')">
        <h3 data-lang="risk">Risk Assessment</h3>
        <p id="lastScore">—</p>
        <button class="mini" onclick="openFeature('risk'); event.stopPropagation()">
          <a href="risk.html" target="_blank" class="btn" data-lang="take">Take assessment</a>
          
        </button>
      </div>

      <div class="card">
  <h3>🐄 Analyze Animal Health</h3>
  <p>Upload your animals photo to detect symptoms or diseases</p>
  <button class="btn" onclick="openFeature('health')">
    Open Analyzer
  </button>
</div>


      <!-- Training & Guides -->
      <div class="card">
        <h3 data-lang="training">🐖🐓 Training & Guides</h3>
        <p data-lang="trainingHint">Watch short videos for pig & poultry farming</p>
        <button class="cta">
          <a href="training.html" target="_blank" class="btn">Open Training</a>
        </button>
      </div>

      <!-- Government Schemes -->
      <div class="card" onclick="openFeature('schemes')">
        <h3 data-lang="schemes">Government Schemes</h3>
        <p data-lang="govDesc">View latest schemes available for your farm type.</p>
        <a href="allSchemes.html" class="btn"  target="_blank" data-lang="view">View Schemes</a>
      </div>

      <div class="card">
  <h3 data-lang="loan">Apply Loan</h3>
  <p data-lang="loanHint">Apply for small farm loan</p>

  <!-- Green Apply Button -->
  <a href="loan_application.html" target="_blank" class="btn green-btn" style="text-decoration:none; color:rgb(19, 3, 3); display:inline-block; margin-top:10px;">
  Apply Now
</a>

</div>

      <!-- Book Session -->
      <div class="card" onclick="openFeature('session')">
        <h3 data-lang="session">Book Session</h3>
        <p data-lang="sessionHint">Book paid learning sessions</p>
      </div>
<!-- Vaccination Schedule -->
<div class="card">
  <h3 data-lang="vaccine">Vaccination Schedule</h3>
  <p id="vaccineChart" data-lang="vaccineChart">25 Sept — Bird Flu</p>
  <button onclick="window.location.href='vaccination_dashboard.html'" 
   class="btn"
>
     Open Vaccination Portal
  </button>
</div>


      <!-- Breeding & Feeding -->
      <div class="card" onclick="openFeature('feed')">
        <h3 data-lang="feed">Breeding & Feeding</h3>
        <p data-lang="feedHint">Feeding schedule and charts</p>
        
         <a href="feeding.html" class="btn"  target="_blank" data-lang="view">View Chart</a>
      </div>

      <!-- 🩺 Medical Consultation & Supplies -->
      <div class="card">
        <h3 data-lang="medical">🩺 Medical Help</h3>
        <p data-lang="medicalHint">Consult a vet or order medicines & vaccines</p>
        <button class="cta">
          <a href="medical.html" target="_blank" class="btn" data-lang="openMedical">Open Medical</a>
        </button>
      </div>

      <!-- Sales / Products -->
      <div class="card" onclick="openFeature('sales')">
        <h3 data-lang="sales">Sales / Products</h3>
        <p data-lang="salesHint">Update product listings</p>
      </div>

     
<!-- Disease Alerts Card -->
<div class="card">
  <h3>Disease Alerts</h3>
  <p>Click to view all disease alerts from Admin</p>

  <!-- Button and badge container -->
  <div style="position: relative; display: inline-block; margin-top:10px;">
    <a href="viewAlerts.html" class="btn" id="openAlertsBtn">📢 View Alerts</a>
    <!-- Notification badge for unseen alerts -->
    <span id="alertBadge" style="
        display: none;
        background: red;
        color: white;
        font-size: 0.8rem;
        padding: 2px 6px;
        border-radius: 50%;
        position: absolute;
        top: -5px;
        right: -5px;
    ">0</span>
  </div>
</div>

      <!-- ==== AI Chatbox (Restored) ==== -->
      <div class="card">
        <h3 data-lang="support">AI Chat + Support</h3>
        <p data-lang="ask">Ask questions & get voice replies</p>
        <button class="cta" onclick="openAIChat()">
          <a href="ai.html" target="_blank" class="btn" data-lang="open1">Open Chat</a>
        </button>
      </div>

    </section>
  </main>

  <!-- Modal -->
  <div id="modal" class="modal hidden">
    <div class="modal-content">
      <button class="close" onclick="closeModal()">✖</button>
      <div id="modalBody"></div>
    </div>
  </div>
</body>
</html>